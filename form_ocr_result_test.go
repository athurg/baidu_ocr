package ocr

import (
	"testing"
)

func TestDumpResult(t *testing.T) {
	exampleResult := `{"form_num":1,"forms":[{"footer":[],"header":[],"body":[{"column":[0],"rect":{"left":18.0,"top":0.0},"row":[0],"word":"序号"},{"column":[0],"rect":{"left":9.0,"top":68.0},"row":[1],"word":"1"},{"column":[0],"rect":{"left":8.0,"top":124.0},"row":[2],"word":"2"},{"column":[0],"rect":{"left":6.0,"top":181.0},"row":[3],"word":"3"},{"column":[0],"rect":{"left":2.0,"top":238.0},"row":[4],"word":"4"},{"column":[0],"rect":{"left":3.0,"top":298.0},"row":[5],"word":"5"},{"column":[0],"rect":{"left":0.0,"top":352.0},"row":[6],"word":"6"},{"column":[0],"rect":{"left":0.0,"top":412.0},"row":[7],"word":"7"},{"column":[0],"rect":{"left":0.0,"top":470.0},"row":[8],"word":"8"},{"column":[0],"rect":{"left":0.0,"top":530.0},"row":[9],"word":"9"},{"column":[0],"rect":{"left":9.0,"top":589.0},"row":[10],"word":"0"},{"column":[0],"rect":{"left":1.7976931348623157E308,"top":1.7976931348623157E308},"row":[11],"word":""},{"column":[0],"rect":{"left":3.0,"top":709.0},"row":[12],"word":"2"},{"column":[0],"rect":{"left":0.0,"top":769.0},"row":[13],"word":"3"},{"column":[0],"rect":{"left":0.0,"top":832.0},"row":[14],"word":".4"},{"column":[2],"rect":{"left":81.0,"top":0.0},"row":[0],"word":"值"},{"column":[2],"rect":{"left":0.0,"top":66.0},"row":[1],"word":"1238.80"},{"column":[2],"rect":{"left":0.0,"top":122.0},"row":[2],"word":"1252.00"},{"column":[2],"rect":{"left":0.0,"top":179.0},"row":[3],"word":"0.00"},{"column":[2],"rect":{"left":0.0,"top":237.0},"row":[4],"word":"0.00"},{"column":[2],"rect":{"left":12.0,"top":294.0},"row":[5],"word":"-13.20"},{"column":[2],"rect":{"left":0.0,"top":352.0},"row":[6],"word":"0.00"},{"column":[2],"rect":{"left":0.0,"top":410.0},"row":[7],"word":"0.00"},{"column":[2],"rect":{"left":8.0,"top":468.0},"row":[8],"word":"1238.80"},{"column":[2],"rect":{"left":0.0,"top":527.0},"row":[9],"word":"566.80"},{"column":[2],"rect":{"left":0.0,"top":585.0},"row":[10],"word":"0.00"},{"column":[2],"rect":{"left":0.0,"top":645.0},"row":[11],"word":"0.00"},{"column":[2],"rect":{"left":3.0,"top":706.0},"row":[12],"word":"566.80"},{"column":[2],"rect":{"left":0.0,"top":764.0},"row":[13],"word":"0.00"},{"column":[2],"rect":{"left":1.0,"top":829.0},"row":[14],"word":"8"},{"column":[1],"rect":{"left":62.0,"top":0.0},"row":[0],"word":"名称"},{"column":[1],"rect":{"left":2.0,"top":59.0},"row":[1],"word":"毛利金额"},{"column":[1],"rect":{"left":2.0,"top":116.0},"row":[2],"word":"毛收金额"},{"column":[1],"rect":{"left":0.0,"top":171.0},"row":[3],"word":"退货金额"},{"column":[1],"rect":{"left":0.0,"top":230.0},"row":[4],"word":"加收金额"},{"column":[1],"rect":{"left":0.0,"top":285.0},"row":[5],"word":"折扣金额"},{"column":[1],"rect":{"left":0.0,"top":344.0},"row":[6],"word":"抹零金额"},{"column":[1],"rect":{"left":0.0,"top":402.0},"row":[7],"word":"合计零头"},{"column":[1],"rect":{"left":0.0,"top":460.0},"row":[8],"word":"小计金额"},{"column":[1],"rect":{"left":0.0,"top":519.0},"row":[9],"word":"现金收入"},{"column":[1],"rect":{"left":0.0,"top":578.0},"row":[10],"word":"现金入账"},{"column":[1],"rect":{"left":0.0,"top":637.0},"row":[11],"word":"现金出账"},{"column":[1],"rect":{"left":0.0,"top":698.0},"row":[12],"word":"现金总计"},{"column":[1],"rect":{"left":14.0,"top":757.0},"row":[13],"word":"它付款"},{"column":[1],"rect":{"left":12.0,"top":821.0},"row":[14],"word":"钱箱数"},{"column":[3],"rect":{"left":1.7976931348623157E308,"top":1.7976931348623157E308},"row":[0],"word":""},{"column":[3],"rect":{"left":1.7976931348623157E308,"top":1.7976931348623157E308},"row":[1],"word":""},{"column":[3],"rect":{"left":1.7976931348623157E308,"top":1.7976931348623157E308},"row":[2],"word":""},{"column":[3],"rect":{"left":1.7976931348623157E308,"top":1.7976931348623157E308},"row":[3],"word":""},{"column":[3],"rect":{"left":1.7976931348623157E308,"top":1.7976931348623157E308},"row":[4],"word":""},{"column":[3],"rect":{"left":1.7976931348623157E308,"top":1.7976931348623157E308},"row":[5],"word":""},{"column":[3],"rect":{"left":1.7976931348623157E308,"top":1.7976931348623157E308},"row":[6],"word":""},{"column":[3],"rect":{"left":1.7976931348623157E308,"top":1.7976931348623157E308},"row":[7],"word":""},{"column":[3],"rect":{"left":1.7976931348623157E308,"top":1.7976931348623157E308},"row":[8],"word":""},{"column":[3],"rect":{"left":1.7976931348623157E308,"top":1.7976931348623157E308},"row":[9],"word":""},{"column":[3],"rect":{"left":1.7976931348623157E308,"top":1.7976931348623157E308},"row":[10],"word":""},{"column":[3],"rect":{"left":1.7976931348623157E308,"top":1.7976931348623157E308},"row":[11],"word":""},{"column":[3],"rect":{"left":1.7976931348623157E308,"top":1.7976931348623157E308},"row":[12],"word":""},{"column":[3],"rect":{"left":1.7976931348623157E308,"top":1.7976931348623157E308},"row":[13],"word":""},{"column":[3],"rect":{"left":1.7976931348623157E308,"top":1.7976931348623157E308},"row":[14],"word":""},{"column":[7],"rect":{"left":1.7976931348623157E308,"top":1.7976931348623157E308},"row":[0],"word":""},{"column":[7],"rect":{"left":1.7976931348623157E308,"top":1.7976931348623157E308},"row":[1],"word":""},{"column":[7],"rect":{"left":1.7976931348623157E308,"top":1.7976931348623157E308},"row":[2],"word":""},{"column":[7],"rect":{"left":1.7976931348623157E308,"top":1.7976931348623157E308},"row":[3],"word":""},{"column":[7],"rect":{"left":1.7976931348623157E308,"top":1.7976931348623157E308},"row":[4],"word":""},{"column":[7],"rect":{"left":1.7976931348623157E308,"top":1.7976931348623157E308},"row":[5],"word":""},{"column":[7],"rect":{"left":1.7976931348623157E308,"top":1.7976931348623157E308},"row":[6],"word":""},{"column":[7],"rect":{"left":1.7976931348623157E308,"top":1.7976931348623157E308},"row":[7],"word":""},{"column":[7],"rect":{"left":1.7976931348623157E308,"top":1.7976931348623157E308},"row":[8],"word":""},{"column":[7],"rect":{"left":1.7976931348623157E308,"top":1.7976931348623157E308},"row":[9],"word":""},{"column":[7],"rect":{"left":1.7976931348623157E308,"top":1.7976931348623157E308},"row":[10],"word":""},{"column":[7],"rect":{"left":1.7976931348623157E308,"top":1.7976931348623157E308},"row":[11],"word":""},{"column":[7],"rect":{"left":1.7976931348623157E308,"top":1.7976931348623157E308},"row":[12],"word":""},{"column":[7],"rect":{"left":1.7976931348623157E308,"top":1.7976931348623157E308},"row":[13],"word":""},{"column":[7],"rect":{"left":1.7976931348623157E308,"top":1.7976931348623157E308},"row":[14],"word":""},{"column":[4],"rect":{"left":0.0,"top":0.0},"row":[0],"word":"序号"},{"column":[4],"rect":{"left":1.0,"top":65.0},"row":[1],"word":"15"},{"column":[4],"rect":{"left":1.0,"top":121.0},"row":[2],"word":"16"},{"column":[4],"rect":{"left":0.0,"top":177.0},"row":[3],"word":"17"},{"column":[4],"rect":{"left":0.0,"top":235.0},"row":[4],"word":"18"},{"column":[4],"rect":{"left":0.0,"top":292.0},"row":[5],"word":"19"},{"column":[4],"rect":{"left":0.0,"top":351.0},"row":[6],"word":"20"},{"column":[4],"rect":{"left":1.0,"top":410.0},"row":[7],"word":"21"},{"column":[4],"rect":{"left":0.0,"top":467.0},"row":[8],"word":"22"},{"column":[4],"rect":{"left":0.0,"top":527.0},"row":[9],"word":"23"},{"column":[4],"rect":{"left":0.0,"top":586.0},"row":[10],"word":"24"},{"column":[4],"rect":{"left":0.0,"top":646.0},"row":[11],"word":"25"},{"column":[4],"rect":{"left":0.0,"top":706.0},"row":[12],"word":"26"},{"column":[4],"rect":{"left":0.0,"top":764.0},"row":[13],"word":"27"},{"column":[4],"rect":{"left":0.0,"top":826.0},"row":[14],"word":"28"},{"column":[6],"rect":{"left":73.0,"top":0.0},"row":[0],"word":"值"},{"column":[6],"rect":{"left":0.0,"top":62.0},"row":[1],"word":"3"},{"column":[6],"rect":{"left":0.0,"top":116.0},"row":[2],"word":"0"},{"column":[6],"rect":{"left":0.0,"top":176.0},"row":[3],"word":"0.00"},{"column":[6],"rect":{"left":0.0,"top":233.0},"row":[4],"word":"0.00"},{"column":[6],"rect":{"left":0.0,"top":286.0},"row":[5],"word":"0.00"},{"column":[6],"rect":{"left":0.0,"top":349.0},"row":[6],"word":"0.00"},{"column":[6],"rect":{"left":0.0,"top":408.0},"row":[7],"word":"0.00"},{"column":[6],"rect":{"left":0.0,"top":466.0},"row":[8],"word":"47.00"},{"column":[6],"rect":{"left":0.0,"top":525.0},"row":[9],"word":"0.00"},{"column":[6],"rect":{"left":0.0,"top":585.0},"row":[10],"word":"50.00"},{"column":[6],"rect":{"left":0.0,"top":645.0},"row":[11],"word":"399.00"},{"column":[6],"rect":{"left":0.0,"top":703.0},"row":[12],"word":"0.00"},{"column":[6],"rect":{"left":0.0,"top":766.0},"row":[13],"word":"176.00"},{"column":[6],"rect":{"left":0.0,"top":826.0},"row":[14],"word":"0.00"},{"column":[5],"rect":{"left":60.0,"top":0.0},"row":[0],"word":"名称"},{"column":[5],"rect":{"left":0.0,"top":56.0},"row":[1],"word":"单项取消"},{"column":[5],"rect":{"left":0.0,"top":113.0},"row":[2],"word":"全部取消"},{"column":[5],"rect":{"left":0.0,"top":167.0},"row":[3],"word":"挂单金额"},{"column":[5],"rect":{"left":0.0,"top":227.0},"row":[4],"word":"套餐差价"},{"column":[5],"rect":{"left":0.0,"top":282.0},"row":[5],"word":"积分消费"},{"column":[5],"rect":{"left":0.0,"top":341.0},"row":[6],"word":"会员充值"},{"column":[5],"rect":{"left":0.0,"top":398.0},"row":[7],"word":"会员赠额"},{"column":[5],"rect":{"left":0.0,"top":457.0},"row":[8],"word":"会员消费"},{"column":[5],"rect":{"left":0.0,"top":515.0},"row":[9],"word":"现金券"},{"column":[5],"rect":{"left":0.0,"top":576.0},"row":[10],"word":"信用卡"},{"column":[5],"rect":{"left":0.0,"top":636.0},"row":[11],"word":"微信支付"},{"column":[5],"rect":{"left":0.0,"top":694.0},"row":[12],"word":"美团"},{"column":[5],"rect":{"left":0.0,"top":756.0},"row":[13],"word":"支付宝"},{"column":[5],"rect":{"left":0.0,"top":818.0},"row":[14],"word":"付款差额"},{"column":[8],"rect":{"left":0.0,"top":0.0},"row":[0],"word":"序号"},{"column":[8],"rect":{"left":7.0,"top":60.0},"row":[1],"word":"29"},{"column":[8],"rect":{"left":8.0,"top":116.0},"row":[2],"word":"30"},{"column":[8],"rect":{"left":0.0,"top":175.0},"row":[3],"word":"31"},{"column":[8],"rect":{"left":0.0,"top":232.0},"row":[4],"word":"32"},{"column":[8],"rect":{"left":0.0,"top":290.0},"row":[5],"word":"33"},{"column":[8],"rect":{"left":0.0,"top":348.0},"row":[6],"word":"34"},{"column":[8],"rect":{"left":1.7976931348623157E308,"top":1.7976931348623157E308},"row":[7],"word":""},{"column":[8],"rect":{"left":1.7976931348623157E308,"top":1.7976931348623157E308},"row":[8],"word":""},{"column":[8],"rect":{"left":1.7976931348623157E308,"top":1.7976931348623157E308},"row":[9],"word":""},{"column":[8],"rect":{"left":1.7976931348623157E308,"top":1.7976931348623157E308},"row":[10],"word":""},{"column":[8],"rect":{"left":1.7976931348623157E308,"top":1.7976931348623157E308},"row":[11],"word":""},{"column":[8],"rect":{"left":1.7976931348623157E308,"top":1.7976931348623157E308},"row":[12],"word":""},{"column":[8],"rect":{"left":1.7976931348623157E308,"top":1.7976931348623157E308},"row":[13],"word":""},{"column":[8],"rect":{"left":1.7976931348623157E308,"top":1.7976931348623157E308},"row":[14],"word":""},{"column":[9],"rect":{"left":44.0,"top":0.0},"row":[0],"word":"名称"},{"column":[9],"rect":{"left":0.0,"top":51.0},"row":[1],"word":"外卖数量"},{"column":[9],"rect":{"left":0.0,"top":107.0},"row":[2],"word":"外卖金额"},{"column":[9],"rect":{"left":0.0,"top":164.0},"row":[3],"word":"堂食数量"},{"column":[9],"rect":{"left":0.0,"top":223.0},"row":[4],"word":"堂食金额"},{"column":[9],"rect":{"left":0.0,"top":281.0},"row":[5],"word":"赠品金额"},{"column":[9],"rect":{"left":0.0,"top":338.0},"row":[6],"word":"销售笔数"},{"column":[9],"rect":{"left":1.7976931348623157E308,"top":1.7976931348623157E308},"row":[7],"word":""},{"column":[9],"rect":{"left":1.7976931348623157E308,"top":1.7976931348623157E308},"row":[8],"word":""},{"column":[9],"rect":{"left":1.7976931348623157E308,"top":1.7976931348623157E308},"row":[9],"word":""},{"column":[9],"rect":{"left":1.7976931348623157E308,"top":1.7976931348623157E308},"row":[10],"word":""},{"column":[9],"rect":{"left":1.7976931348623157E308,"top":1.7976931348623157E308},"row":[11],"word":""},{"column":[9],"rect":{"left":1.7976931348623157E308,"top":1.7976931348623157E308},"row":[12],"word":""},{"column":[9],"rect":{"left":1.7976931348623157E308,"top":1.7976931348623157E308},"row":[13],"word":""},{"column":[9],"rect":{"left":1.7976931348623157E308,"top":1.7976931348623157E308},"row":[14],"word":""}]}]}`

	result, err := ParseFormResult(exampleResult)
	if err != nil {
		t.Error("表单识别结果解析失败:%s", err)
		return
	}

	result.FormatDump(12)
}
